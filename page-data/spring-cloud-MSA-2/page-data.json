{"componentChunkName":"component---src-templates-blog-post-js","path":"/spring-cloud-MSA-2/","result":{"data":{"site":{"siteMetadata":{"title":"지은이의 개발 Blog","author":"Jieun Hong"}},"markdownRemark":{"id":"8f78586f-65ad-590b-bf76-07254e7b0ce6","html":"<h2 id=\"spring-cloud로-개발하는-마이크로서비스-애플리케이션msa-스터디---session-2\"><a href=\"#spring-cloud%EB%A1%9C-%EA%B0%9C%EB%B0%9C%ED%95%98%EB%8A%94-%EB%A7%88%EC%9D%B4%ED%81%AC%EB%A1%9C%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98msa-%EC%8A%A4%ED%84%B0%EB%94%94---session-2\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Spring Cloud로 개발하는 마이크로서비스 애플리케이션(MSA) 스터디 - SESSION 2</h2>\n<p><strong><code class=\"language-text\">아래 인프런 강의를 들으면서 학습한 내용을 정리한 포스팅입니다.</code></strong><br>\n<a href=\"https://inf.run/Rro2\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Spring Cloud로 개발하는 마이크로서비스 애플리케이션(MSA)</a><br>\n<span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 478px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 116.89189189189189%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAABYlAAAWJQFJUiTwAAAE9klEQVR42pWTeVDUZRjHf80Yh1k2Nk3TgaGIJg5yiSuX2aijpWEgKCqhq2OHpOaRYsoonqmlaeOMOeofhSkyQpHigUIcK4QsxLEcHlyyLgt7yLXLuZ/e/TGa+Zf+Zj7zPO/zPPt9n+d935Vq6mpYuHEhUd9EyTY0NpS5grVbFhG/PYatCcuJ2xbN94c30N5QSe71RDbHf8quPcvZuVvJlh1K4kXNuk0RVFQWIWUXZiK5SEjvDeK/wp8vDq0k66CS1h2z0a7xoiluKqb1fnD8cwzx03nwmRv6r73RrZ+ELtYD/UYF2lUeWIuvIjVq6/Ga74XkKuG5xJPE8rNUmiugIAlOr4H98+BoNBwMwyYEOTgfds4cjB0Ih4SZdB9YAD8shMpcJKNZz438y2w/lsDEyHH4fjmRZHUaxgel7NsexbY981BlnUKp9CVw2qsET3+doBmCmS4EhY1lVui7xG0NRRHshCr3IlJnj5H9SVv47uRudpzcyujoURy5fILblvt4RQfySuDLuHw4EmnCf8cijRVM9kBa+gGhexaT2XgR3xgfLqT/hlTbUsvCvZEcSjzM5p834bZkNEcvHqe0VUOIMgTJXeJFryEM83+JgMUKvMMn4hvhw5g541EsDWHqihDmrp7FmBlvci0zBamg6m9Scy+QcCwe1wg3/JSeHEg5yi19KYHLgpHGSwydNBRHXyei46KJ+TaGsLVhrIhXMjUmmPA1nxC1IYpR094g869UpJK7JeRXqohctwCHAEc8FrmzL+UI+bpiApYFIY2TGB4wHM9wTybMm4B3hDfuc9xRLFLI/sg5Y3GL9GPE5KHk5/6JVKjJJyhWQVp2Cum5acxZO4PdSftRmyqYsjRQPjNn0aGTn5Po0lHGSXTrLNZDfByJnefK6WVeKBQO5NkvRWts4scrP+H6kSsrxYO9Xa8hreQal+5kEmQ/Q3lk58diT+IgBKdMe42PZ7+Fm/cLqG+mI/Vjo0pfwfgwDxwmSuw98hXtfRYKmzVMigmQb9fJfxgOosuncRRIPk4CZ4aKOk2BeNiVDRpGRrrIT+Gd4OG8H/42uw6vZtXWaBzEuI5P4PAU9pizmMDRQ2LEKIlqlRi5WTzs85nnUWUkkXMjiZuqPyi4doas309QlHEW9fVzFIu87Iv8P1nJFAsrx0RuMJ9MyZVfsbTcR+rt6cXQbKDb2ovJ1IbF0iP7BoMZi7WHjg4LdXWNmM3tNDQ2UVpWIa/v3auny9KNXm8Q6wYMxofYP6nL0kX65XQKCvIpKirisvDr6mqFf4vs7GxUqjyysjKpra2lpqaalJQLFBcXy/HS0lIhfA+1ukjODfT3I/X19XHnzh0ZnU5HWVkZVVVVdHZ20tTUJG9ij9kFNRoN5eXlaLVaIVAji9XX18u5tra2wQ6tVqv8o5ycHFkoLy9P7K6Si6urq0lOTiY1NVUWtdfYUavVsrXX2m1GRoa8iSzY29uL2WTEKkbvtnbR29NNT4+Vrs4Onvez2Wz2kQfQ6toED9G1dGAwWWk1daPTP8Q2MCAXDghrL35kHzFg+/9aFrT1GbC1ngLTOWzGM2BMBMMv9BvT0LcYxW23Pt79WZAY6IKOm9BZJCiQra0tm772YkzmNtrb259P0Cj+ZsnG2xR1tnLRXMvd7q5BgafO5pkFLf09XDWWc8lQSpK+kLuW5sFzs/U/l9Aj/gUWETdn6eX/mgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"2\"\n        title=\"\"\n        src=\"/static/9f316145cbf9a93f0b883c4b05afb2a6/50978/2.png\"\n        srcset=\"/static/9f316145cbf9a93f0b883c4b05afb2a6/12f09/2.png 148w,\n/static/9f316145cbf9a93f0b883c4b05afb2a6/e4a3f/2.png 295w,\n/static/9f316145cbf9a93f0b883c4b05afb2a6/50978/2.png 478w\"\n        sizes=\"(max-width: 478px) 100vw, 478px\"\n      />\n    </span>\n  </span>\n  \n<a href=\"https://inf.run/Rro2\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://inf.run/Rro2</a></p>\n<p><strong>퀵스텝</strong></p>\n<ol>\n<li><a href=\"#spring-cloud-netflix-eureka\">Spring Cloud Netflix Eureka</a>  </li>\n<li><a href=\"#eureka-service-discovery\">Eureka Service Discovery</a></li>\n<li><a href=\"#user-service---%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%83%9D%EC%84%B1\">User Service - 프로젝트 생성</a></li>\n<li><a href=\"#user-service---%EB%93%B1%EB%A1%9D\">User Service - 등록</a></li>\n<li><a href=\"#user-service---load-balancer\">User Service - Load Balancer</a></li>\n</ol>\n<h2 id=\"spring-cloud-netflix-eureka\"><a href=\"#spring-cloud-netflix-eureka\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Spring Cloud Netflix Eureka</h2>\n<p><strong>ServiceDiscovery</strong></p>\n<p><code class=\"language-text\">등록 -&gt; API 게이트웨이에 전송 -&gt; ServiceDiscovery -&gt; 각 Server</code></p>\n<p>전송된 요청정보에 따라서 서비스를 판별하고 전달해주는 역할</p>\n<hr>\n<p><strong>Server Application Dependencies</strong></p>\n<ul>\n<li>Eureka Server</li>\n</ul>\n<p><strong>Client Application Dependencies</strong></p>\n<ul>\n<li>Eureka Discovery Client</li>\n<li>Spring web</li>\n<li>Spring Boot DevTools</li>\n<li>Lombok</li>\n</ul>\n<h2 id=\"eureka-service-discovery\"><a href=\"#eureka-service-discovery\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Eureka Service Discovery</h2>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">@SpringBootApplication\n<span class=\"gatsby-highlight-code-line\">@EnableEurekaServer</span><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DiscoveryserviceApplication</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">String<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        SpringApplication<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span>DiscoveryserviceApplication<span class=\"token punctuation\">.</span>class<span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>@EnableEurekaServer</strong><br>\n-> 현재 스프링부트 프로젝트에 유레카서버용 ServiceDiscovery라는 것을 등록해줌</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">server<span class=\"token operator\">:</span>\n  port<span class=\"token operator\">:</span> <span class=\"token number\">8761</span>\n\nspring<span class=\"token operator\">:</span>\n  application<span class=\"token operator\">:</span>\n    name<span class=\"token operator\">:</span> discoveryservice\n\neureka<span class=\"token operator\">:</span>\n  client<span class=\"token operator\">:</span>\n<span class=\"gatsby-highlight-code-line\">    register<span class=\"token operator\">-</span><span class=\"token keyword\">with</span><span class=\"token operator\">-</span>eureka<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span></span><span class=\"gatsby-highlight-code-line\">    fetch<span class=\"token operator\">-</span>registry<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span></span><span class=\"gatsby-highlight-code-line\">    #자체로 서버를 띄우는 것이기 때문에 등록이 필요치 않음<span class=\"token punctuation\">.</span></span></code></pre></div>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2f97d292180ae9dc5b1d5e4a3c514632/3d22e/3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 70.94594594594594%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACsElEQVR42m1TWU8TYRSdXyMY1KpEUxNDTIyPRl9INPrgi88mGAOUQmkpWCdiKYgoihpj/BGaCC5sbVE6HdrpvlFKbUsXlhIIHL97KaZpfDi5+7nLNyOZf86ic34Bhul5mH64YF30wPpbw5QWw5dUBl+zBUznivieK+G1FoXVo8GmBPBYYGhZg9HlxcPZJXQ5FXR8/gZp8N0E+ifscLwdh/xChvxShuO9A/ZJO569srO0T44wyB4WGJ0ag+PNKEaEz/JcRscTMwzDA3hg6YZ0/95d3G6/iTu32nH9xjW06pugb2vBWV0zdC1N0J0S8lRTDc0403IC+gvncLFVx/LKZT2utl1ief70SUhOpxOLCwuYm5uF2+WC6lWhKipWVIGVlSNZ03012+v1Qq35VaErigJN0zAzMwMplUwiGo2A5Pr6OnZ2dhjb29vY3NxkSfbW1hYqlQrr1WqV/eVymVEsFrG7u4tYLCYIU0QYRalU4uDGxgYnFPJ5pFIptilGyZFIGLncHxQKBY5FwmFk1tZ4GPIFAgFIVFwPKq4H+agRNSaCaCSC9OoqE9FG1DAvmtP0fp8PEim0GuF4hUZQDpGEQyGk02lenxqRn1AWjWnlkIhL1JGOq2l+HpsIGqc8Psc/goZmFKe7BoNBSKWKWLWSZ8fe3h5jf3+fUW+TpCn+B6o9PDw8epRVsQodm2RSHDcRj4tAlO8Vj8eQTCRYz2azTErFVSKpI6OXPzg4EPkJSJ8+fsCgpR+9PV0wGjph6HoEU68BA+Y+1s0mI57KNsi2QfT39aDP2A2T0cA5VGMbssJqMXHt+NgopGBAw68lt/ionfAqHgTEBxoQ9ySp+X18W8oh2y/sRlCcXjck7kc/hkSG2+2CZ3lZjBwXn0IGa+KTIGRqst5uBPnp5XO5HHyC6y/hjq2131v6RAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"3\"\n        title=\"\"\n        src=\"/static/2f97d292180ae9dc5b1d5e4a3c514632/fcda8/3.png\"\n        srcset=\"/static/2f97d292180ae9dc5b1d5e4a3c514632/12f09/3.png 148w,\n/static/2f97d292180ae9dc5b1d5e4a3c514632/e4a3f/3.png 295w,\n/static/2f97d292180ae9dc5b1d5e4a3c514632/fcda8/3.png 590w,\n/static/2f97d292180ae9dc5b1d5e4a3c514632/efc66/3.png 885w,\n/static/2f97d292180ae9dc5b1d5e4a3c514632/c83ae/3.png 1180w,\n/static/2f97d292180ae9dc5b1d5e4a3c514632/3d22e/3.png 2010w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h2 id=\"user-service---프로젝트-생성\"><a href=\"#user-service---%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%83%9D%EC%84%B1\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>User Service - 프로젝트 생성</h2>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">@SpringBootApplication\n<span class=\"gatsby-highlight-code-line\">@EnableDiscoveryClient</span><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">UserServiceApplication</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">String<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        SpringApplication<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span>UserServiceApplication<span class=\"token punctuation\">.</span>class<span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>@EnableDiscoveryClient</strong>\n-> 현재 어플리케이션이 Service Discovery라고 등록해주는 어노테이션</p>\n<h2 id=\"user-service---프로젝트-등록\"><a href=\"#user-service---%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EB%93%B1%EB%A1%9D\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>User Service - 프로젝트 등록</h2>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">server<span class=\"token operator\">:</span>\n<span class=\"gatsby-highlight-code-line\">  port<span class=\"token operator\">:</span> <span class=\"token number\">9001</span></span>\nspring<span class=\"token operator\">:</span>\n  application<span class=\"token operator\">:</span>\n    name<span class=\"token operator\">:</span> user<span class=\"token operator\">-</span>service\n\neureka<span class=\"token operator\">:</span>\n  client<span class=\"token operator\">:</span>\n<span class=\"gatsby-highlight-code-line\">    register<span class=\"token operator\">-</span><span class=\"token keyword\">with</span><span class=\"token operator\">-</span>eureka<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span></span><span class=\"gatsby-highlight-code-line\">    fetch<span class=\"token operator\">-</span>registry<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span></span><span class=\"gatsby-highlight-code-line\">    #서버에 등록을 하는 클라이언트이기 때문에 <span class=\"token boolean\">true</span></span><span class=\"gatsby-highlight-code-line\">    service<span class=\"token operator\">-</span>url<span class=\"token operator\">:</span></span><span class=\"gatsby-highlight-code-line\">      defaultZone<span class=\"token operator\">:</span> http<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span><span class=\"token number\">127.0</span><span class=\"token number\">.0</span><span class=\"token number\">.1</span><span class=\"token operator\">:</span><span class=\"token number\">8761</span><span class=\"token operator\">/</span>eureka</span><span class=\"gatsby-highlight-code-line\">      #등록할 서버 주소 등록</span><span class=\"gatsby-highlight-code-line\"></span></code></pre></div>\n<p>똑같은 클라이언트 어플리케이션을 포트를 다르게 해서 2개를 동시에 띄웠을 때, 유레카 대시보드에서 띄워주는 정보</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d905a23ac94a820c87d1057c76ddb75d/5b30f/6.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 45.94594594594595%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABVUlEQVR42pWP61KCQBzF9/HNcioz1N6gpgdQ8zZeuvo9GlC5CKiICMiANuOJXYWosQ8x85v/7tmzh7NE13XomgZBFCFGyIoCRVWhKAfS63jPNCXR1IMmyTKIIAjg+XcMozDTNGHbNpbLZYJlWT/2i8WCaWkf1cz5nN0nkiRhPBolF6kxjWHoWEZnq9WKnY/HI8xnM+ZfsVALsizBiF5qGAaI67rwPA900kt/4TgOC/zgeYY2mSTtptMpC6cFCK1JBTq/A+xfc0/cmDahP3AOGiX2kImmQhwKLNT3fazX62TG0PYxac3z9q9LQzzfRfgZYLcDwjDEZrNFEARsTdlut/jPR+7vbpHLnuAsm8HleQ650wwK+QuUuEKi3ZQ5cFweRe7qKKWIcvGaQQaDN9RrVfR7XfS6HXQ7bTw99vH68swm1RrNGuqtChqt6hEqaLYf0I981PsFkyOIsMquTFwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"6\"\n        title=\"\"\n        src=\"/static/d905a23ac94a820c87d1057c76ddb75d/fcda8/6.png\"\n        srcset=\"/static/d905a23ac94a820c87d1057c76ddb75d/12f09/6.png 148w,\n/static/d905a23ac94a820c87d1057c76ddb75d/e4a3f/6.png 295w,\n/static/d905a23ac94a820c87d1057c76ddb75d/fcda8/6.png 590w,\n/static/d905a23ac94a820c87d1057c76ddb75d/efc66/6.png 885w,\n/static/d905a23ac94a820c87d1057c76ddb75d/c83ae/6.png 1180w,\n/static/d905a23ac94a820c87d1057c76ddb75d/5b30f/6.png 2372w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<ol start=\"3\">\n<li>따로 어플리케이션 파일 만들어서 실행시키기</li>\n</ol>\n<h2 id=\"user-service---load-balancer\"><a href=\"#user-service---load-balancer\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>User Service - Load Balancer</h2>\n<p>랜덤포트로 띄워주기\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/aa51f61a9b5282a922937f9083928e5a/a7115/7.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 31.08108108108108%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABA0lEQVR42pWQ207DMBBE8yXlBakkjnOxE9d20jhNbxRB//9vDtsgeETwcORdz2hG2sxPM/Po6XceFz3T4YCPA01raMwfEJ+xBttZQghkxlh8q6i1oigK8jxHKUVZlv+iqjRNrckaCXSNIhhNK41axCJ/keAvCil4FD1Qv1AqefMtmUsnpssb8+s70/lGnxbi8cK4XFfifKYf5hW7kn4w3/P4pfn5RBbDgcGdcfbIGK6kdMeMH1T7O9UkyKzjDS0eL0QvJf7CIN5R/h97bxdct4guga2ucUVAP3dyyz1pd2Rb7tjUgY3Z81RHNl2SPdLXA0M3E+y0eq3ydDpglMOWnmpr+QTOB8D4cPYTtwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"1\"\n        title=\"\"\n        src=\"/static/aa51f61a9b5282a922937f9083928e5a/fcda8/7.png\"\n        srcset=\"/static/aa51f61a9b5282a922937f9083928e5a/12f09/7.png 148w,\n/static/aa51f61a9b5282a922937f9083928e5a/e4a3f/7.png 295w,\n/static/aa51f61a9b5282a922937f9083928e5a/fcda8/7.png 590w,\n/static/aa51f61a9b5282a922937f9083928e5a/efc66/7.png 885w,\n/static/aa51f61a9b5282a922937f9083928e5a/c83ae/7.png 1180w,\n/static/aa51f61a9b5282a922937f9083928e5a/a7115/7.png 2186w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fb4f516bdf7b146d653577978c780503/42267/8.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 43.24324324324324%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABf0lEQVR42p2QW0sCQRzF5wNVIF7Qwozeeigioofog1WmSL3kBQoyxWvpXuwzZK5pSLq6Xta7PpxmxtXSemrhxxz+58ycP0sOD/ZwdnqC46N9uHatcGyvw2Zdh8W0ZvBTz7CaN7DlsGDTbobLaceO0wG7zQQz9Ug6lULm+QkvORmyJEKSBIhCliIYZDmSKM50dubJkoScLNN7Oc7cJ6XSO+r1OobDIUajEWc8HqPf73OYZrN2u80zk8mEzwaDAZqahmaziVarxT02J6pao+EWNGpqWsNAg1qrQVVVrhuNBvL5VxSLCiqVCp9Vq5/4KJfpMirPsQyDdPUub1+l0+ksYBsUFQWKUuCF3wtoPMv8OeStkEedNvR6Pei6vgR7bLVA1ztLZauQXr+L6XS6+DcMphn/+YjP64HX44bPewWP+wI31z6u3ZfnCAX8CAX9CLLzD4KB21+Q6GMYqWQCyUQcaXpKogAhm0E6lUQ8FkU4cmdwv8QDncViEX4vEY8hafAFf8tb0ZyXV2YAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"1\"\n        title=\"\"\n        src=\"/static/fb4f516bdf7b146d653577978c780503/fcda8/8.png\"\n        srcset=\"/static/fb4f516bdf7b146d653577978c780503/12f09/8.png 148w,\n/static/fb4f516bdf7b146d653577978c780503/e4a3f/8.png 295w,\n/static/fb4f516bdf7b146d653577978c780503/fcda8/8.png 590w,\n/static/fb4f516bdf7b146d653577978c780503/efc66/8.png 885w,\n/static/fb4f516bdf7b146d653577978c780503/c83ae/8.png 1180w,\n/static/fb4f516bdf7b146d653577978c780503/42267/8.png 2670w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>HOST IP address application-name port번호를 조합하여 유니크한 이름 만들</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">server<span class=\"token operator\">:</span>\n<span class=\"gatsby-highlight-code-line\">  port<span class=\"token operator\">:</span> <span class=\"token number\">0</span></span><span class=\"gatsby-highlight-code-line\">      #매번 실행시에 포트를 다르게 <span class=\"token function\">넣어줌</span> <span class=\"token punctuation\">(</span>random<span class=\"token punctuation\">)</span></span>\nspring<span class=\"token operator\">:</span>\n  application<span class=\"token operator\">:</span>\n    name<span class=\"token operator\">:</span> user<span class=\"token operator\">-</span>service\n\neureka<span class=\"token operator\">:</span>\n  instance<span class=\"token operator\">:</span>\n<span class=\"gatsby-highlight-code-line\">    instance<span class=\"token operator\">-</span>id<span class=\"token operator\">:</span> $<span class=\"token punctuation\">{</span>spring<span class=\"token punctuation\">.</span>cloud<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>hostname<span class=\"token punctuation\">}</span><span class=\"token operator\">:</span>$<span class=\"token punctuation\">{</span>spring<span class=\"token punctuation\">.</span>application<span class=\"token punctuation\">.</span>instance_id<span class=\"token operator\">:</span>$<span class=\"token punctuation\">{</span>random<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span><span class=\"gatsby-highlight-code-line\">    #server<span class=\"token punctuation\">.</span>port <span class=\"token operator\">=</span> <span class=\"token number\">0</span>이면 실제 포트는 다르게 들어가지만<span class=\"token punctuation\">,</span> Eureka Server에서 인스턴스 명이 port 가 <span class=\"token number\">0</span>번으로 중복되어 <span class=\"token number\">1</span>개로 표시해주기 때문에 아이디를 랜덤으로 지정해줌</span>  client<span class=\"token operator\">:</span>\n<span class=\"gatsby-highlight-code-line\">    register<span class=\"token operator\">-</span><span class=\"token keyword\">with</span><span class=\"token operator\">-</span>eureka<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span></span><span class=\"gatsby-highlight-code-line\">    fetch<span class=\"token operator\">-</span>registry<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span></span><span class=\"gatsby-highlight-code-line\">    #서버에 등록을 하는 클라이언트이기 때문에 <span class=\"token boolean\">true</span></span><span class=\"gatsby-highlight-code-line\">    service<span class=\"token operator\">-</span>url<span class=\"token operator\">:</span></span><span class=\"gatsby-highlight-code-line\">      defaultZone<span class=\"token operator\">:</span> http<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span><span class=\"token number\">127.0</span><span class=\"token number\">.0</span><span class=\"token number\">.1</span><span class=\"token operator\">:</span><span class=\"token number\">8761</span><span class=\"token operator\">/</span>eureka</span><span class=\"gatsby-highlight-code-line\">      #등록할 서버 주소 등록</span><span class=\"gatsby-highlight-code-line\"></span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">$<span class=\"token punctuation\">{</span>spring<span class=\"token punctuation\">.</span>cloud<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>hostname<span class=\"token punctuation\">}</span><span class=\"token operator\">:</span>$<span class=\"token punctuation\">{</span>spring<span class=\"token punctuation\">.</span>application<span class=\"token punctuation\">.</span>instance_id<span class=\"token operator\">:</span>$<span class=\"token punctuation\">{</span>random<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f95b6b350cec4437bd3096d221ca3c55/c658e/10.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 59.45945945945946%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACO0lEQVR42o2Ta08TURCG9wepJRaJFO8mRjQKFCsaNNGI0e/GxN+kIrUQkZjYG7SAXNoQCRIq7HbbbnfbsrdubzQvcw67oYl8cJMn75yZOWdm5+wKA/4+vH39Cs+eThCPcftOAIGbFzA45EO/7zz6+/7l2tBlBAb8uHE1gFvXr3AGL12E33cOQjwWBSMW/YnFZBLL6TTSqSUiRXaKq0fvmtksd2X5BC8mSKIISZLAVNd1NBoNOI7DqdfrXD2fZVnc9tamacIwDL7PiwmieIA8HciCh7UaatUqaqTVSgUFWebKNkiSiNzeHlRVhaapXNm6WChAlvNQSiVUaa9wSBUYOoNV7MHzWbYNiTb93t5GLpeDRkWqVLSslmFSzKDueD4VFiwKWnSySRiadgp1YLg+k3Iq1Elh/y8q1AnL1Smu87wyDEWhPMpnB1ZWV6AuLaK2tgbz1yrMbBbmOtkb665NSjErm0F9cwN2ZpP8GVhbW7BY7M8ODJq/QePhHR6I+9jd3UGpWIRN7bPh2oTVa7vDZx1wmM18zGavS5fHlfyC7dDttB0cHXXRarU4TVdb7TaazSa63S7+9xF+LHzHl+nPiHwNY242gm9zs5j+9BGR8AwRxgzFFubn6RtNIBGPIRmPc5idiEddPUX48P4d/SEh/pe8mXqBqZfPMTnxCJNPQhgP3kdo/AGCY/cwOnIXY6PDJzoyjFDw4ZkICt0Qmx37iBnsVR2nDk1XoBpFKHreReZaNmTYDROdTudMjgE0OCjGDG8X1AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"1\"\n        title=\"\"\n        src=\"/static/f95b6b350cec4437bd3096d221ca3c55/fcda8/10.png\"\n        srcset=\"/static/f95b6b350cec4437bd3096d221ca3c55/12f09/10.png 148w,\n/static/f95b6b350cec4437bd3096d221ca3c55/e4a3f/10.png 295w,\n/static/f95b6b350cec4437bd3096d221ca3c55/fcda8/10.png 590w,\n/static/f95b6b350cec4437bd3096d221ca3c55/efc66/10.png 885w,\n/static/f95b6b350cec4437bd3096d221ca3c55/c83ae/10.png 1180w,\n/static/f95b6b350cec4437bd3096d221ca3c55/c658e/10.png 2202w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \n클라이언트 주소를 누르면, actuator관련 코드가 없어 404는 나지만 정상작동.\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d460308e9faf1c00d1428b89ba431149/c45c7/11.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 39.86486486486486%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABGklEQVR42o1Q2Y6DMAzM/38UDwj1qUDFC6gSohUsAcp9LbTALHYXVK32sjTKxInHYwt8xrIs6Pp3pHmBoqwQJTfIKEaSZghlBBnHCNf7WyiRr+9t16NpOzQdod8hDocDVFWFYRjQNA26bjB3HAen0wmKoiBNU246TRPmeebmTzzNUG6DuF6vcF0XnufhfD7D931QLggCSCmhH48oy5LF7vc7xnFkbHwYBhbfQlRVhVt6Q5IkXFgUBTsiTme3jlTXNefzPOdcGIbMY1rDyh+Px742QU7IFeFyubBTAhW0bctiJEq8aRr0fY+vsWDZ1yBoXMuyYNs2TNPkccldlmXsZnNGdwKJb26+g9h7vOzhr/hJjAVfhX77+F98AOWCZWpDcyC6AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"1\"\n        title=\"\"\n        src=\"/static/d460308e9faf1c00d1428b89ba431149/fcda8/11.png\"\n        srcset=\"/static/d460308e9faf1c00d1428b89ba431149/12f09/11.png 148w,\n/static/d460308e9faf1c00d1428b89ba431149/e4a3f/11.png 295w,\n/static/d460308e9faf1c00d1428b89ba431149/fcda8/11.png 590w,\n/static/d460308e9faf1c00d1428b89ba431149/efc66/11.png 885w,\n/static/d460308e9faf1c00d1428b89ba431149/c83ae/11.png 1180w,\n/static/d460308e9faf1c00d1428b89ba431149/c45c7/11.png 1346w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>","timeToRead":3,"frontmatter":{"title":"Spring Cloud로 개발하는 마이크로서비스 애플리케이션(MSA) 스터디 - SESSION 2","date":"April 18, 2022","spoiler":"","cta":"spring"},"fields":{"slug":"/spring-cloud-MSA-2/","langKey":"en"}}},"pageContext":{"slug":"/spring-cloud-MSA-2/","previous":{"fields":{"slug":"/spring-cloud-MSA-1/","langKey":"en","directoryName":"spring-cloud-MSA-1"},"frontmatter":{"title":"Spring Cloud로 개발하는 마이크로서비스 애플리케이션(MSA) 스터디 - SESSION 1"}},"next":{"fields":{"slug":"/jmeter/","langKey":"en","directoryName":"jmeter"},"frontmatter":{"title":"Jmeter UT 테스트 세팅 +  RequestBody 파일로 주입하기"}},"translations":[],"translatedLinks":[]}},"staticQueryHashes":["336482444"]}