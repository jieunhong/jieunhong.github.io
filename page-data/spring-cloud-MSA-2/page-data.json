{"componentChunkName":"component---src-templates-blog-post-js","path":"/spring-cloud-MSA-2/","result":{"data":{"site":{"siteMetadata":{"title":"지은이의 개발 Blog","author":"Jieun Hong"}},"markdownRemark":{"id":"8f78586f-65ad-590b-bf76-07254e7b0ce6","html":"<h2 id=\"spring-cloud로-개발하는-마이크로서비스-애플리케이션msa-스터디---session-2\"><a href=\"#spring-cloud%EB%A1%9C-%EA%B0%9C%EB%B0%9C%ED%95%98%EB%8A%94-%EB%A7%88%EC%9D%B4%ED%81%AC%EB%A1%9C%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98msa-%EC%8A%A4%ED%84%B0%EB%94%94---session-2\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Spring Cloud로 개발하는 마이크로서비스 애플리케이션(MSA) 스터디 - SESSION 2</h2>\n<p><strong><code class=\"language-text\">아래 인프런 강의를 들으면서 학습한 내용을 정리한 포스팅입니다.</code></strong><br>\n<a href=\"https://inf.run/Rro2\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Spring Cloud로 개발하는 마이크로서비스 애플리케이션(MSA)</a><br>\n<span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 478px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 116.89189189189189%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAABYlAAAWJQFJUiTwAAAFBUlEQVQ4y5WUeVCVVRjGPx0FRGvGf1pGJTENRZRFuegkGiiWCIKBW7igVsoQKpRFKJLgKDZU42h/qE2KlqbI5hiD2chyBUFIFlm67DXs3I0LYsC999e5HwNTNs3omXnmvOc97/uc57zv+T6pvbudkOgQgiKDCI4KZm3YWtYIhB3cQFzsVg7F7SDm0BaOnwynR1XKQ+UNYoQvPj6UY8d2yvaRozuJ/DiQwqJfkGobqpHekJAcBOZKuGxzZu+pMLKSdqE9vp72/S60xXijPeACZ/eiTfClY89seg560BW1iK59C+n5dAmd4Y48zrmM1GvQser9VUgzJewDZnG2+BxlukooTYPkKDjuC6e3QaI/w6e2w5dBcGgZJAXDiQDMR7zoj1+L+aTwF6cLwj4tucW3+ebyKdw2LcBp1xucz7+MTl3H6aQwImJWUlBwiT3hy1F4TcVj1csofF5B4T0Nj6D5ePrZEf1FMO4rppCadg5pyDTAmZsJxJ75jK9+TGTOtlnEXUukeaiDlfv8sXKbyGtr7JDmi5LMGymLXB7X15G2e+MV+y55f9zCO2IFpy8mIXUbutmetJXEC4kkJMdjH2LP0SsnqNHXExi1HmmOhJWLFTZu1nhsUbB4oxvum9xxDFjIopCleO5aju9HPsx+ezqXrp1BqmqpJjU/ha8Fod16e1xDHTmcnEC5tga/yABZzWTFFKwFYXBkMLtjd7P6w9XsPBzKih2eBISvE/6NzPR6lasp34ou//k7yke57DtxgIlLrJm9YSafC8KSnkf4Hlgnv4ApHi/gFDifeevm4RzkjIOfA+6b3XETauf4O+CyWcFUhS3paWeRGlvreTNcQfLP35NfepfN0YF8ci6aij6VIPSXFdoutsXK1WoMkxZNYrLwjROleM93OudDXVjmYUVaumiKxqDmovISc4Mc8Q/zQdVYye3KXLIacvCLChgjtFzZAhs3mzF7gqs1zp5T8X9nGjMWSGRnfodkxEyTrpFlO5bKXdwftwHdYy3V+iZ8ItbIPlt3UUOh6mnYLJ4kum2N5GYrlybv1gWkdnWbeHtO8nN4aemLvBU0g6hjoUTEf8BEJ4lxgnD8PzBu7r/XEywQcePtJJSZ55H0/b1k3MvkQc4NgVQKC25SmSvsrAtU56RQK2yVMl3MqdTmpVJfkIkqP02GvC98qnsZ1P56hX7RD8k4bKSrvZPe3j66utTo9X0MDAzS3a1BpzfI6/qGJnrUWlpbO/jtYTmNjS3U1zeJnH45zmJ3ilzLkIaGhrhz5w7FxUVUVVWRnZ0tEhooKysTn9w92a9U5lNXp6KhoYHMzAyKiu4LFFFRUU5zczOlpSXU1tQwNDiIZDabBUEjKpWKtrY2qqurqaysxGAw0NHRQUlJiUgolWMse+Xl5XJcXV2dvG5paaGpqQmNRjOicHh4WFaTn59PjTjFcrJSqZTVWJCRkUFKSopQUyHH5OXlyQdYYgoLC2Wf5YYWUpnQaDSi02lE3fplDP71REh/Iuqjw6L+eYYlXjKazLR3GWjr1NPZ3Y9aO4BaNyhsA0ajSQ40mUxysGUetUfXo/YoJLPpMWh+AN110P4k7KtitiAdtVpNT0+P5ej/JP4fJEyD0FcgUCygFHiASX8XY+99tFqNeDa6ses8E+Fj4xA3NHUU93VxS9dMxcAIgemp2jwz4bDZyF3x78tSV3C9q4Sq/tYRQuF/HqJR/A2V+jdeLrIOTwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"2\"\n        title=\"\"\n        src=\"/static/9f316145cbf9a93f0b883c4b05afb2a6/50978/2.png\"\n        srcset=\"/static/9f316145cbf9a93f0b883c4b05afb2a6/12f09/2.png 148w,\n/static/9f316145cbf9a93f0b883c4b05afb2a6/e4a3f/2.png 295w,\n/static/9f316145cbf9a93f0b883c4b05afb2a6/50978/2.png 478w\"\n        sizes=\"(max-width: 478px) 100vw, 478px\"\n      />\n    </span>\n  </span>\n  \n<a href=\"https://inf.run/Rro2\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://inf.run/Rro2</a></p>\n<p><strong>퀵스텝</strong></p>\n<ol>\n<li><a href=\"#spring-cloud-netflix-eureka\">Spring Cloud Netflix Eureka</a>  </li>\n<li><a href=\"#eureka-service-discovery\">Eureka Service Discovery</a></li>\n<li><a href=\"#user-service---%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%83%9D%EC%84%B1\">User Service - 프로젝트 생성</a></li>\n<li><a href=\"#user-service---%EB%93%B1%EB%A1%9D\">User Service - 등록</a></li>\n<li><a href=\"#user-service---load-balancer\">User Service - Load Balancer</a></li>\n</ol>\n<h2 id=\"spring-cloud-netflix-eureka\"><a href=\"#spring-cloud-netflix-eureka\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Spring Cloud Netflix Eureka</h2>\n<p><strong>ServiceDiscovery</strong></p>\n<p><code class=\"language-text\">등록 -&gt; API 게이트웨이에 전송 -&gt; ServiceDiscovery -&gt; 각 Server</code></p>\n<p>전송된 요청정보에 따라서 서비스를 판별하고 전달해주는 역할</p>\n<hr>\n<p><strong>Server Application Dependencies</strong></p>\n<ul>\n<li>Eureka Server</li>\n</ul>\n<p><strong>Client Application Dependencies</strong></p>\n<ul>\n<li>Eureka Discovery Client</li>\n<li>Spring web</li>\n<li>Spring Boot DevTools</li>\n<li>Lombok</li>\n</ul>\n<h2 id=\"eureka-service-discovery\"><a href=\"#eureka-service-discovery\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Eureka Service Discovery</h2>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">@SpringBootApplication\n<span class=\"gatsby-highlight-code-line\">@EnableEurekaServer</span><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DiscoveryserviceApplication</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">String<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        SpringApplication<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span>DiscoveryserviceApplication<span class=\"token punctuation\">.</span>class<span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>@EnableEurekaServer</strong><br>\n-> 현재 스프링부트 프로젝트에 유레카서버용 ServiceDiscovery라는 것을 등록해줌</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">server<span class=\"token operator\">:</span>\n  port<span class=\"token operator\">:</span> <span class=\"token number\">8761</span>\n\nspring<span class=\"token operator\">:</span>\n  application<span class=\"token operator\">:</span>\n    name<span class=\"token operator\">:</span> discoveryservice\n\neureka<span class=\"token operator\">:</span>\n  client<span class=\"token operator\">:</span>\n<span class=\"gatsby-highlight-code-line\">    register<span class=\"token operator\">-</span><span class=\"token keyword\">with</span><span class=\"token operator\">-</span>eureka<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span></span><span class=\"gatsby-highlight-code-line\">    fetch<span class=\"token operator\">-</span>registry<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span></span><span class=\"gatsby-highlight-code-line\">    #자체로 서버를 띄우는 것이기 때문에 등록이 필요치 않음<span class=\"token punctuation\">.</span></span></code></pre></div>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2f97d292180ae9dc5b1d5e4a3c514632/3d22e/3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 70.94594594594594%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACoklEQVQ4y3WSWU8TYRSG55+ocQOMa29cYuK1XBgTlwsv/AUqiQajgSC1LCJBJMYQjVJjLQgawSVRkEJnSkFREUwQsItdpnRvoaxt6et3DrQUEid58p7t284cqazPjBJFwZVuBddMVlyXh1E6NIqG0Ql02V147/HjgxrEJ18I98cmUfplDDeHf+EG8XUMV60juKR8w2VBieU7pLuvXqDGqEdzhwEPjU/Q3K6H/l0bnnW24nlnGwxdL2F4uwrFnr4xQi9iRIuw7xlbUPb4AbSPmqDTN0O6eOEczp4uxvkzp3Cy+AT2arZCc3QH9hRtQ8HOrSjYtU7hboptgeZAEQ7uL2Q9dvgQjh/RsO4r3A6pz2SCqbcXPd3dIFuRZVhkBRbl/1AN1+XZstnMKnm9XjidDrjdLkxP+7C0tJRjcXFxg7+wsMC6vLyc8+fn5xnOibjkcbtht9kQi8UwMzODaDTKRCIRUI40Ho/D5frLdeFQCDGRV1UvbLY/QlVxGTd8QmkPiRaEw2HehAL5ZGN0kNfjgd1uh8PhgEfYPp8q8OUOj4g9SKW5uTm+Muns7Cwv3gzFVdGaqalJvg352YM2IzmdTvweH8fkxAQ/h563+aZZKEfkH0x2Ft4wGo8gFAsgkUhws5PJJJNKpTbYlKOfxIgfsEHXoFdKwWAQXtXD7w+JGwYCAfj9fm46aTAYYJt+BH2ZTEaAVYS/srIiyHCODpded7Sjvq4W1bpK6LQV0N4qR9XtStTVVkNbUY7aah2aGhuY+roa3KnRCapEviqXa2yo57WtRgOknyM/xGD3iMH+KAb7MwYsskCBdcAiBtXM9tCgFYPWVV829zPKmlK9RZHR32cC7SVlx8HlconGJvgJSdGzFJNe72XOzyOdXqtLIS1sGvZ/njyxdEG1dYQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"3\"\n        title=\"\"\n        src=\"/static/2f97d292180ae9dc5b1d5e4a3c514632/fcda8/3.png\"\n        srcset=\"/static/2f97d292180ae9dc5b1d5e4a3c514632/12f09/3.png 148w,\n/static/2f97d292180ae9dc5b1d5e4a3c514632/e4a3f/3.png 295w,\n/static/2f97d292180ae9dc5b1d5e4a3c514632/fcda8/3.png 590w,\n/static/2f97d292180ae9dc5b1d5e4a3c514632/efc66/3.png 885w,\n/static/2f97d292180ae9dc5b1d5e4a3c514632/c83ae/3.png 1180w,\n/static/2f97d292180ae9dc5b1d5e4a3c514632/3d22e/3.png 2010w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h2 id=\"user-service---프로젝트-생성\"><a href=\"#user-service---%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%83%9D%EC%84%B1\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>User Service - 프로젝트 생성</h2>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">@SpringBootApplication\n<span class=\"gatsby-highlight-code-line\">@EnableDiscoveryClient</span><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">UserServiceApplication</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">String<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        SpringApplication<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span>UserServiceApplication<span class=\"token punctuation\">.</span>class<span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>@EnableDiscoveryClient</strong>  ㄴㄴㄴ\n-> 현재 스프링부트 프로젝트에 유레카서버용 ServiceDiscovery라는 것을 등록해줌</p>\n<h2 id=\"user-service---프로젝트-등록\"><a href=\"#user-service---%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EB%93%B1%EB%A1%9D\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>User Service - 프로젝트 등록</h2>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">server<span class=\"token operator\">:</span>\n<span class=\"gatsby-highlight-code-line\">  port<span class=\"token operator\">:</span> <span class=\"token number\">9001</span></span>\nspring<span class=\"token operator\">:</span>\n  application<span class=\"token operator\">:</span>\n    name<span class=\"token operator\">:</span> user<span class=\"token operator\">-</span>service\n\neureka<span class=\"token operator\">:</span>\n  client<span class=\"token operator\">:</span>\n<span class=\"gatsby-highlight-code-line\">    register<span class=\"token operator\">-</span><span class=\"token keyword\">with</span><span class=\"token operator\">-</span>eureka<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span></span><span class=\"gatsby-highlight-code-line\">    fetch<span class=\"token operator\">-</span>registry<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span></span><span class=\"gatsby-highlight-code-line\">    #서버에 등록을 하는 클라이언트이기 때문에 <span class=\"token boolean\">true</span></span><span class=\"gatsby-highlight-code-line\">    service<span class=\"token operator\">-</span>url<span class=\"token operator\">:</span></span><span class=\"gatsby-highlight-code-line\">      defaultZone<span class=\"token operator\">:</span> http<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span><span class=\"token number\">127.0</span><span class=\"token number\">.0</span><span class=\"token number\">.1</span><span class=\"token operator\">:</span><span class=\"token number\">8761</span><span class=\"token operator\">/</span>eureka</span><span class=\"gatsby-highlight-code-line\">      #등록할 서버 주소 등록</span><span class=\"gatsby-highlight-code-line\"></span></code></pre></div>\n<p>똑같은 클라이언트 어플리케이션을 포트를 다르게 해서 2개를 동시에 띄웠을 때, 유레카 대시보드에서 띄워주는 정보</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d905a23ac94a820c87d1057c76ddb75d/5b30f/6.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 45.94594594594595%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABWUlEQVQoz5WQWU/CQBSF5/+/qQQJUWMiioKIgGzG5UH9DUKLtNANaKEtrUaF5jh3tAqID07yZe65y+ntsOFwCOKp24Xc6aCvadB0g6OvRRc1Y21OUVUwWZbRaj1CliRuPMB4PIbjOD/Y9pK2uSYW+0iP+FL2aASmKAo63JTEZDKB53kcF57ritiyrKW8qipiOM65vK/f68E0TQx4L/N9H9PpVPA5tIz7ZRzHktSG1G5D409DprShZZmi5nLNKEFv6Dj2WsNVc9M0YBgGfK5pGdp68aNM1zXIsiRWDsMQQRCIOwwDERPxHxCruSDgxDGHvbw+4z16A535fI4oijCbzb5j4j+HVS8qSKe2kUxs8juJ7WQCO+kU9vd2kdjaELXccRZHmQNkDzN/QnWCPdzf4ayQR7NeQ4NTq1ZwddnE7c21uClfKhVQLJ/gvJz/RbGcQ6lyKmYb9So+AJ+XiOieJOGFAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"6\"\n        title=\"\"\n        src=\"/static/d905a23ac94a820c87d1057c76ddb75d/fcda8/6.png\"\n        srcset=\"/static/d905a23ac94a820c87d1057c76ddb75d/12f09/6.png 148w,\n/static/d905a23ac94a820c87d1057c76ddb75d/e4a3f/6.png 295w,\n/static/d905a23ac94a820c87d1057c76ddb75d/fcda8/6.png 590w,\n/static/d905a23ac94a820c87d1057c76ddb75d/efc66/6.png 885w,\n/static/d905a23ac94a820c87d1057c76ddb75d/c83ae/6.png 1180w,\n/static/d905a23ac94a820c87d1057c76ddb75d/5b30f/6.png 2372w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<ol start=\"3\">\n<li>따로 어플리케이션 파일 만들어서 실행시키기</li>\n</ol>\n<h2 id=\"user-service---load-balancer\"><a href=\"#user-service---load-balancer\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>User Service - Load Balancer</h2>\n<p>랜덤포트로 띄워주기\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/aa51f61a9b5282a922937f9083928e5a/a7115/7.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 31.08108108108108%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABAklEQVQY05WQ3W7CMAxG+yZj2lUTB5w0f01LKQMKa3n/1/lmOjZpN5N2cXRiK7EdV6EfMLQBPgS44NF2HWLK2LEV+Om/YctwjUXOCZV1UsQR/E6DtIZSClpMRP/CGAPeEip2Ac2OkJ2Bk+LGbKHq+hdamiilV+vV36if3GMY0jWqdDxjuC0YP+44XGek9wvKNKOflpVymRGHE+L+iDAIYv/kEa9+xllqVW0cUbw84BNKmnDY32HbGVQWmG4ByVmnK1Q4I8i9Ei9ohS5f0Um+xAmeR3j7RcXEaFSAefNoTEYfRvlexIYELng1CRvb42XbgnWSfe+lebfCtayLEpyOqx/xJzulwEdHw6kQAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"1\"\n        title=\"\"\n        src=\"/static/aa51f61a9b5282a922937f9083928e5a/fcda8/7.png\"\n        srcset=\"/static/aa51f61a9b5282a922937f9083928e5a/12f09/7.png 148w,\n/static/aa51f61a9b5282a922937f9083928e5a/e4a3f/7.png 295w,\n/static/aa51f61a9b5282a922937f9083928e5a/fcda8/7.png 590w,\n/static/aa51f61a9b5282a922937f9083928e5a/efc66/7.png 885w,\n/static/aa51f61a9b5282a922937f9083928e5a/c83ae/7.png 1180w,\n/static/aa51f61a9b5282a922937f9083928e5a/a7115/7.png 2186w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fb4f516bdf7b146d653577978c780503/42267/8.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 43.24324324324324%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABgElEQVQoz52S20oCURSG9+NkkBl2xAjqJuomgm7q4UIrNagsx0M6B/U9Emwg0dEZRp3Kwwh/e62mNOqqgY+91trrX//ewxYH+3s4Oz3B8dEhdnZXsRYLIRpdRGRpAZFwaMZcvrIcwsZaBOury4htRrG9JXXRMPeIx2IBaqmEWrUCw9Cg6WVoqqT8uarlEqOpKtc4lquh66gYOutq1Sp0TeM9YZrP6HQ6GA6HGI/HzGQy4fxdQjExGAy4Np1OOR+NRuj1ehKXV8qpLlqtFlzXhWPbsAMcx4FlWQzFjmOjXn9Co9FAs/nCvZbVhmma6AR9drfLWuF5r+j3+4HbDKp9QTkNo6FdKaRTkRENoD060BeCmtrtNjzPYzFdjfll4v4wmhlL5urCexvA96f8b3zfZygm/vOJ63QSyasLpJNXuEzEQXkqeYlE/BxK9h6FfA55RfmTnJKVPPxAZO5uUCzkpFBBUYrpKRi6BnpOeSm4zaQ/uQ8I4ptMCtlshg0LOeWbDwc+WQDNUSytAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"1\"\n        title=\"\"\n        src=\"/static/fb4f516bdf7b146d653577978c780503/fcda8/8.png\"\n        srcset=\"/static/fb4f516bdf7b146d653577978c780503/12f09/8.png 148w,\n/static/fb4f516bdf7b146d653577978c780503/e4a3f/8.png 295w,\n/static/fb4f516bdf7b146d653577978c780503/fcda8/8.png 590w,\n/static/fb4f516bdf7b146d653577978c780503/efc66/8.png 885w,\n/static/fb4f516bdf7b146d653577978c780503/c83ae/8.png 1180w,\n/static/fb4f516bdf7b146d653577978c780503/42267/8.png 2670w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>HOST IP address application-name port번호를 조합하여 유니크한 이름 만들</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">server<span class=\"token operator\">:</span>\n<span class=\"gatsby-highlight-code-line\">  port<span class=\"token operator\">:</span> <span class=\"token number\">0</span></span><span class=\"gatsby-highlight-code-line\">      #매번 실행시에 포트를 다르게 <span class=\"token function\">넣어줌</span> <span class=\"token punctuation\">(</span>random<span class=\"token punctuation\">)</span></span>\nspring<span class=\"token operator\">:</span>\n  application<span class=\"token operator\">:</span>\n    name<span class=\"token operator\">:</span> user<span class=\"token operator\">-</span>service\n\neureka<span class=\"token operator\">:</span>\n  instance<span class=\"token operator\">:</span>\n<span class=\"gatsby-highlight-code-line\">    instance<span class=\"token operator\">-</span>id<span class=\"token operator\">:</span> $<span class=\"token punctuation\">{</span>spring<span class=\"token punctuation\">.</span>cloud<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>hostname<span class=\"token punctuation\">}</span><span class=\"token operator\">:</span>$<span class=\"token punctuation\">{</span>spring<span class=\"token punctuation\">.</span>application<span class=\"token punctuation\">.</span>instance_id<span class=\"token operator\">:</span>$<span class=\"token punctuation\">{</span>random<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span><span class=\"gatsby-highlight-code-line\">    #server<span class=\"token punctuation\">.</span>port <span class=\"token operator\">=</span> <span class=\"token number\">0</span>이면 실제 포트는 다르게 들어가지만<span class=\"token punctuation\">,</span> Eureka Server에서 인스턴스 명이 port 가 <span class=\"token number\">0</span>번으로 중복되어 <span class=\"token number\">1</span>개로 표시해주기 때문에 아이디를 랜덤으로 지정해줌</span>  client<span class=\"token operator\">:</span>\n<span class=\"gatsby-highlight-code-line\">    register<span class=\"token operator\">-</span><span class=\"token keyword\">with</span><span class=\"token operator\">-</span>eureka<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span></span><span class=\"gatsby-highlight-code-line\">    fetch<span class=\"token operator\">-</span>registry<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span></span><span class=\"gatsby-highlight-code-line\">    #서버에 등록을 하는 클라이언트이기 때문에 <span class=\"token boolean\">true</span></span><span class=\"gatsby-highlight-code-line\">    service<span class=\"token operator\">-</span>url<span class=\"token operator\">:</span></span><span class=\"gatsby-highlight-code-line\">      defaultZone<span class=\"token operator\">:</span> http<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span><span class=\"token number\">127.0</span><span class=\"token number\">.0</span><span class=\"token number\">.1</span><span class=\"token operator\">:</span><span class=\"token number\">8761</span><span class=\"token operator\">/</span>eureka</span><span class=\"gatsby-highlight-code-line\">      #등록할 서버 주소 등록</span><span class=\"gatsby-highlight-code-line\"></span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">$<span class=\"token punctuation\">{</span>spring<span class=\"token punctuation\">.</span>cloud<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>hostname<span class=\"token punctuation\">}</span><span class=\"token operator\">:</span>$<span class=\"token punctuation\">{</span>spring<span class=\"token punctuation\">.</span>application<span class=\"token punctuation\">.</span>instance_id<span class=\"token operator\">:</span>$<span class=\"token punctuation\">{</span>random<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f95b6b350cec4437bd3096d221ca3c55/c658e/10.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 59.45945945945946%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACI0lEQVQoz42Sa2sTQRSG999YojSg1Wgt+SCKpSRNq21EKQiK4AdB/G/aNtmkqUVsSc1VJFHMdVNz2+xldrO5kPB6ZkyaluaDCw/n9s6ZM7Mj3XLfwNs3r/FsaxMvgtvwPljC7ZUFLHlcWHQtwH39Mouua1j2kOamGyv37sC77IH3/l3wPrwm7X76iP29XeyRDYf2EZHDws4nJKwcDgm4dgqPeU1SqlUoioJKuQzLsjAYDNDv9wW9Xu+fP8k5zizmtW63K9ZwHMeh2gBSuVRClZqapglN09DpdKARqqqiVlNErOu62LBULKLVaqHdbqPRqKNQ+E2aGvhQ9XqdtCokjcS6YcCghrypydg5xiTPaIJKpYJcLociNVUnGzabTVi2DZPqU73EqCHH5NCE59AikZvY5tkZFJqyRZNxvU4NDdIZNK1BUxs85g21eBydk2PoiQSs01OwdBqMfJb4BvY9S7k4WDIJO5lAN5uBnU7BShHkW9zP58FoI0b/gZ9QKtE9/Mz9wB9K2JSwaBfBBZ8Rpn5h+osn4tczPTZvaDkMvaGD0Wgs/t5gOLzCaDzG/37Sl6MjRGUZh7EoYgdRfD6MQab3dBCNCKIRGSfHX5HNZJCh65iRmov04f07bD9ZR/BpAK9e7mDneRBbm36KNxDwPcaGfxXrZP1rjwS+tYeCgG91LlK5XJq9P60jHqmmd1CpF1Bu/EKxnr8Ez6l6CzbpbPsqfwFNICUOEs4a2AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"1\"\n        title=\"\"\n        src=\"/static/f95b6b350cec4437bd3096d221ca3c55/fcda8/10.png\"\n        srcset=\"/static/f95b6b350cec4437bd3096d221ca3c55/12f09/10.png 148w,\n/static/f95b6b350cec4437bd3096d221ca3c55/e4a3f/10.png 295w,\n/static/f95b6b350cec4437bd3096d221ca3c55/fcda8/10.png 590w,\n/static/f95b6b350cec4437bd3096d221ca3c55/efc66/10.png 885w,\n/static/f95b6b350cec4437bd3096d221ca3c55/c83ae/10.png 1180w,\n/static/f95b6b350cec4437bd3096d221ca3c55/c658e/10.png 2202w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \n클라이언트 주소를 누르면, actuator관련 코드가 없어 404는 나지만 정상작동.\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d460308e9faf1c00d1428b89ba431149/c45c7/11.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 39.86486486486486%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABGklEQVQoz5WQ626CQBBGef/3wqDxB0jVBCrhDnK/SiKXr8y022iTpnaTk52dXQ4zI+FrLcuC/jYgzUsUVY0oviK6JrgmKYIoQriewyiGH0Z83/Y3NF3PtA9Iu90OiqJA13Vst1tomgbtcIBhmFDXWJZllGXJP73f7xjHEfM8P7BgWvdp+kQyTRPn83kVGDge32BZFi6Xd7iuC8/zsNls0LYtC6dpeoLkxNqfaBRS0zTIsgxpmqKua1RVhTzPead83/ccF0XBeXoXhiHHcRwjCAKWi7FJlCB83+eKHMdhSE4yqm4YBo67ruNYfPw4f4FEraqqitPphP1+D9u2vytJkoQrEx0QJP0peRLSYMUsROl/rd9kLPzP41f4ANK2ZTPQjF9iAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"1\"\n        title=\"\"\n        src=\"/static/d460308e9faf1c00d1428b89ba431149/fcda8/11.png\"\n        srcset=\"/static/d460308e9faf1c00d1428b89ba431149/12f09/11.png 148w,\n/static/d460308e9faf1c00d1428b89ba431149/e4a3f/11.png 295w,\n/static/d460308e9faf1c00d1428b89ba431149/fcda8/11.png 590w,\n/static/d460308e9faf1c00d1428b89ba431149/efc66/11.png 885w,\n/static/d460308e9faf1c00d1428b89ba431149/c83ae/11.png 1180w,\n/static/d460308e9faf1c00d1428b89ba431149/c45c7/11.png 1346w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>","timeToRead":3,"frontmatter":{"title":"Spring Cloud로 개발하는 마이크로서비스 애플리케이션(MSA) 스터디 - SESSION 2","date":"April 18, 2022","spoiler":"","cta":"spring"},"fields":{"slug":"/spring-cloud-MSA-2/","langKey":"en"}}},"pageContext":{"slug":"/spring-cloud-MSA-2/","previous":{"fields":{"slug":"/spring-cloud-MSA-1/","langKey":"en","directoryName":"spring-cloud-MSA-1"},"frontmatter":{"title":"Spring Cloud로 개발하는 마이크로서비스 애플리케이션(MSA) 스터디 - SESSION 1"}},"next":null,"translations":[],"translatedLinks":[]}},"staticQueryHashes":["336482444"]}